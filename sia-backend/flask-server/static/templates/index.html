{% extends "base.html" %}

{% block title %}
    Sia-planB.de
{% endblock %}


{% block content %}
    <style>



    </style>

    <div id="carouselExampleCaptions" class="carousel slide section" data-bs-touch="true">
        <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3" aria-label="Slide 4"></button>
        </div>
        <div class="carousel-inner slider" >
        <div class="carousel-item active" style="z-index: 2;">
            <video class="img-fluid w-100" autoplay loop muted>
                <source src="{{ url_for('static', filename='images/slider/kamerafahrt.mp4') }}" type="video/mp4" />
            </video>
        </div>
        <div class="carousel-item slider" >
            <img src="{{ url_for('static', filename='images/slider/slider1.png') }}" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block slidertext">
                <h4>Das Plan B</h4>
                <p>Poststraße 6, 72458 Albstadt. Hier befindet sich unsere Bar und Vereinsräumlichkeit!</p>
            </div>
        </div>
        <div class="carousel-item slider">
            <img src="{{ url_for('static', filename='images/slider/slider4.png') }}" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block slidertext">
                <h4>Spaß haben!</h4>
                <p>Das Studium besteht nicht nur aus lernen, das Leben bietet mehr!</p>
            </div>
        </div>
        <div class="carousel-item slider">
            <img src="{{ url_for('static', filename='images/slider/slider3.png') }}" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block slidertext">
                <h4>Durch dick und dünn!</h4>
                <p>In der Prüfungsphase kann man hier auch lernen!</p>
            </div>
        </div>
        <!-- MOBILE-->
        </div>
        <button class="carousel-control-prev" style="z-index: 3;" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"  aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" style="z-index: 3;" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
            <span class="carousel-control-next-icon"  aria-hidden="true"></span>
            <span class="visually-hidden">Next</span> 
        </button>

        
        <div id="rotate-warning">
            <div style="padding: 5px; justify-content: center;">
                <svg width="60px" height="60px" version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                            viewBox="0 0 32 32" xml:space="preserve">
                    <style type="text/css">
                        .st0{fill:none;stroke:#FFF;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}
                        .st1{fill:none;stroke:#FFF;stroke-width:2;stroke-linejoin:round;stroke-miterlimit:10;}
                    </style>
                    <path class="st0" d="M3,27V17c0-1.1,0.9-2,2-2h22c1.1,0,2,0.9,2,2v10c0,1.1-0.9,2-2,2H5C3.9,29,3,28.1,3,27z"/>
                    <line class="st0" x1="25" y1="15" x2="25" y2="29"/>
                    <line class="st0" x1="9" y1="15" x2="9" y2="29"/>
                    <line class="st0" x1="6" y1="21" x2="6" y2="23"/>
                    <path class="st0" d="M3,17V5c0-1.1,0.9-2,2-2h10c1.1,0,2,0.9,2,2v7"/>
                    <line class="st0" x1="3" y1="7" x2="17" y2="7"/>
                    <path class="st0" d="M20,4.1c3.4,0.5,6,3.4,6,6.9l3-4"/>
                </svg>
            </div>
        </div>
    </div>


    <style>

#rotate-warning {
  display: none;
  position: absolute;
  top: 50px;
  width: 100%;
  background-color: None;
  color: #000;
  text-align: center;
  padding: 10px;
  z-index: 1;
}

        @media screen and (max-width: 500px) {
        #rotate-warning {
            display: block;
        }
        }
        
        #carouselExampleCaptions {
            max-width: 1920px;  
            max-height: 70vh; 
            margin: auto;      
        }

        #carouselExampleCaptions .carousel-item img {
            width: 100%;       
            height: auto;      

        }

        .carousel-item video {
            width: 100%;
            height: 70vh; 
            object-fit: cover; 
        }

        #cardCarousel .carousel-inner {
            display: block;
            overflow: hidden;
        }

        #cardCarousel .carousel-item {
            display: flex; 
            justify-content: center;
            align-items: center;
            transition: transform 0.3s ease-in-out; 
        }
        
        .carousel-item {
            position: absolute;  
            left: 0;
            width: 100%;
            top: 0;
            opacity: 0; 
            transition: opacity 0.3s ease-in-out;
        }
        .slidertext p {
            font-size: 20px;
            text-shadow: 0px 0px 15px black, 0px 0px 10px black, 0px 0px 2px black;
            font-weight: 600;
        }


        .slidertext h4{
            font-size: 30px;
            text-shadow: 0px 0px 15px black,0px 0px 10px black,0px 0px 2px black;
            font-weight: 600;
        }

        .carousel-item.active {
            position: relative;
            opacity: 1;
            transition: opacity 0.3s ease-in-out;
        }


        .carousel-control-prev, .carousel-control-next {
            top: 50%;
            transform: translateY(-50%);
        }

        .carousel-control-prev-icon {
            height: 150px ;
            width: 150px;
        }
        .carousel-control-next-icon {
            height: 150px ;
            width: 150px;
        }
        .col-md-2{
            padding-bottom: 20px;
            min-width: 250px;
        }

        .carousel-fade .carousel-item {
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }

        .carousel-fade .carousel-item.active {
            opacity: 1;
            transition: opacity 1s ease-in-out;
        }

        @media (max-width: 768px) {
            .carousel-item .slider{
                height: 70vh;
                object-fit: cover;
                opacity: 0; 
                transition: opacity 0.3s ease-in-out;
            }
            #carouselExampleCaptions .carousel-item img{
                height: 70vh;
                object-fit: cover;
            }
        }

    </style>
<div style="  display: flex; margin: 20px; justify-content: center; align-items: center;"><a href="{{url_for('events')}}" class="btn btn-secondary btn-lg active" role="button" aria-pressed="true">Alle kommenden Events!</a></div>
{% if events %}

    <!-- Desktop Carousel (4 per slide) -->
    <div id="carouselDesktop" class="carousel slide section d-none d-md-block"  data-bs-touch="true" style="padding:15px">
        <div class="carousel-inner" data-bs-theme="dark">
        {% for event_group in events|batch(4, ' ') %}
            <div class="carousel-item {% if loop.first %}active{% endif %}">
            <div class="row justify-content-center">
                {% for event in event_group %}
                    {% if event != ' ' %}
                        <div class="col-md-2 card-group">
                            <div class="card h-20" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                                <div class="crop">
                                    <img src="{{ url_for('static', filename='images/eventposter/' + event.uid|string ) }}" class="card-img-top" alt="...">
                                </div>
                                        
                                    <div class="card-body">
                                        <h5 class="card-title">{{ event.name }}</h5>
                                        <p class="card-text">{{ event.description | safe }}</p>
                                    </div>
                                    <ul class="list-group list-group-flush">
                                        <li class="list-group-item">{{ event.place }}</li>
                                        <li class="list-group-item">{{ event.date }}</li>
                                    </ul>
                            </div>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
            </div>
        {% endfor %}
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselDesktop" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true" data-bs-theme=light></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselDesktop" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true" data-bs-theme=light></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    
    <!-- Mobile Carousel (1 per slide) -->
    <div id="carouselMobile" class="carousel slide d-block d-md-none section"  data-bs-touch="true" style="padding:15px">
        <div class="carousel-inner" data-bs-theme="dark">
        {% for event in events %}
            <div class="carousel-item {% if loop.first %}active{% endif %}">
            <div class="row justify-content-center">
                <div class="col-md-2 card-group">
                    <div class="card h-20" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                        <div class="crop">
                            <img src="{{ url_for('static', filename='images/eventposter/' + event.uid|string ) }}" class="card-img-top" alt="...">
                        </div>
                                
                            <div class="card-body">
                                <h5 class="card-title">{{ event.name }}</h5>
                                <p class="card-text">{{ event.description | safe }}</p>
                              </div>
                              <ul class="list-group list-group-flush">
                                <li class="list-group-item">{{ event.place }}</li>
                                <li class="list-group-item">{{ event.date }}</li>
                              </ul>
                    </div>
                </div>
            </div>
            </div>
        {% endfor %}
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselMobile" data-bs-slide="prev">
            <span class="carousel-control-prev-icon white-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselMobile" data-bs-slide="next">
            <span class="carousel-control-next-icon white-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>


    <script>
          document.addEventListener('DOMContentLoaded', function () {
                const myCarousel = document.querySelector('#carouselMobile');
                new bootstrap.Carousel(myCarousel, {
                touch: true,
                interval: false
                });
            });
            document.addEventListener('DOMContentLoaded', function () {
                const myCarousel = document.querySelector('#carouselExampleCaptions');
                new bootstrap.Carousel(myCarousel, {
                touch: true,
                interval: false
                });
            });
    </script>

    
    

{% endif %}
{% endblock %}