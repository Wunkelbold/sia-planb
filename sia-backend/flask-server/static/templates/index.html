{% extends "base.html" %}

{% block title %}
    Sia-planB.de
{% endblock %}


{% block content %}
    <style>



    </style>

    <div id="carouselExampleCaptions" class="carousel slide section" data-bs-touch="true">
        <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3" aria-label="Slide 4"></button>
        </div>
        <div class="carousel-inner">
        <div class="carousel-item active">
            <video class="img-fluid w-100" autoplay loop muted>
                <source src="{{ url_for('static', filename='images/slider/kamerafahrt.mp4') }}" type="video/mp4" />
            </video>
            <div class="carousel-caption d-none d-md-block slidertext">
            <p>Der soziale Ausgleich, den man im Leben braucht.</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="{{ url_for('static', filename='images/slider/slider3.png') }}" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block slidertext">
                <h4>Durch dick und dünn!</h4>
                <p>Lerngruppen in der Prüfungsphase für bessere Noten!</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="{{ url_for('static', filename='images/slider/slider4.png') }}" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block slidertext">
                <h4>Spaß haben!</h4>
                <p>Das Studium besteht nicht nur aus lernen, das Leben bietet mehr!</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="{{ url_for('static', filename='images/slider/slider1.png') }}" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block slidertext">
                <h4>Das Plan B</h4>
                <p>Poststraße 6, 72458 Albstadt. Hier befindet sich unsere Bar und Vereinsräumlichkeit!</p>
            </div>
        </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
        </button>
    </div>

    <style>

                /* Limit the carousel's display size */
        #carouselExampleCaptions {
            max-width: 1920px;  /* Set max width */
            max-height: auto; /* Set max height */
            margin: auto;      /* Center carousel on the page */
        }

        /* Ensure images do not exceed the container size */
        #carouselExampleCaptions .carousel-item img {
            width: 100%;       /* Scale to fit container width */
            height: auto;      /* Maintain aspect ratio */
            max-height: 600px; /* Limit image height */
        }

        .carousel-item video {
            width: 100%;
            height: 70vh; /* Set video height to full viewport height */
            object-fit: cover; /* Crop top & bottom while keeping full width */
        }

        #cardCarousel .carousel-inner {
            display: block;
            overflow: hidden;
        }

        #cardCarousel .carousel-item {
            display: flex; 
            justify-content: center;
            align-items: center;
            transition: transform 0.3s ease-in-out; 
        }

        .carousel-item {
            position: absolute;  
            width: 100%;  
            left: 0;
            top: 0;
            opacity: 0; 
            transition: opacity 0.3s ease-in-out;
        }
        .slidertext p {
            font-size: 20px;
            text-shadow: 0px 0px 15px black, 0px 0px 10px black, 0px 0px 2px black;
            font-weight: 600;
        }


        .slidertext h4{
            font-size: 30px;
            text-shadow: 0px 0px 15px black,0px 0px 10px black,0px 0px 2px black;
            font-weight: 600;
        }

        .carousel-item.active {
            position: relative;
            opacity: 1;
            transition: opacity 0.3s ease-in-out;
        }


        .carousel-control-prev, .carousel-control-next {
            top: 50%;
            transform: translateY(-50%);
        }

        .carousel-control-prev-icon {
            height: 150px ;
            width: 150px;
        }
        .carousel-control-next-icon {
            height: 150px ;
            width: 150px;
        }
        .col-md-2{
            padding-bottom: 20px;
            min-width: 250px;
        }

        .carousel-fade .carousel-item {
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }

        .carousel-fade .carousel-item.active {
            opacity: 1;
            transition: opacity 1s ease-in-out;
        }



    </style>
<div style="  display: flex; margin: 20px; justify-content: center; align-items: center;"><a href="{{url_for('events')}}" class="btn btn-secondary btn-lg active" role="button" aria-pressed="true">Alle kommenden Events!</a></div>
{% if events %}
    
    <div id="cardCarousel" class="carousel slide section" data-bs-theme="dark" data-bs-touch="true" style="padding:15px">
        <div class="carousel-inner">
            {% if events %}
                {% for event_group in events|batch(4, ' ') %}
                    <div class="carousel-item  {% if loop.first %}active{% endif %}">
                        <div class="row " style="justify-content: center;">
                            {% for event in event_group %}
                                {% if event != ' ' %}
                                    <div class="col-md-2 card-group">
                                        <div class="card h-20" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                                            <div class="crop">
                                                <img src="{{ url_for('static', filename='images/eventposter/' + event.uid|string ) }}" class="card-img-top" alt="...">
                                            </div>
                                                    
                                                <div class="card-body">
                                                    <h5 class="card-title">{{ event.name }}</h5>
                                                    <p class="card-text">{{ event.description }}</p>
                                                  </div>
                                                  <ul class="list-group list-group-flush">
                                                    <li class="list-group-item">{{ event.place }}</li>
                                                    <li class="list-group-item">{{ event.date }}</li>
                                                  </ul>
                                        </div>
                                    </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <p>No events available</p>
            {% endif %}
        </div>
        <!-- Controls for vertical scroll -->
        <button class="carousel-control-prev" type="button" data-bs-target="#cardCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#cardCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
{% endif %}
{% endblock %}